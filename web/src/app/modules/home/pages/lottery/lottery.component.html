<div class="lottery">
    <div class="container-fluid">
        <div class="col-md-12 col-sm-12 col-12 mt-4 couponShow" *ngIf="couponShow">
            <h1 style="text-align: center;">
                Anonder Bazar Live Lottery
            </h1>
            <h3 *ngIf="suggestion" style="text-align: center;">
                "Click" on Live Lottery button to start
            </h3>
            <div class="couponContainer mt-5" *ngIf="currentCoupon">
                    <span *ngFor="let digit of currentCoupon" class="couponDigitBox" >
                        <p [@myAnimation] class="digit">{{digit}}</p>
                    </span>
            </div>
            <div class="row mt-5 buttonSection">
                <button class="btn mr-1 btnDraw" (click)="makeDraw()">
                    Live Lottery
                </button>
                <button class="btn ml-1 btnWinnerList" (click)="getWinners()">
                    <i class="fa fa-trophy btnWinnerIcon" style=""></i>
                    Winner List
                </button>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 col-sm-12 col-12" *ngIf="winnerListShow">
                <div class="row mt-5 buttonSection">
                    <button class="btn mr-1 btnWinnerList" (click)="makeDraw()" style="  padding-left: 35px; padding-right: 35px;">
                        Live Lottery
                    </button>
                    <button class="btn ml-1  btnDraw" style="  padding-left: 20px; padding-right: 20px;" (click)="getWinners()">
                        <i class="fa fa-trophy btnWinnerIcon" style="color: white !important;"></i>
                        Winner List
                    </button>
                </div>
                <div class="winnerListTable">
                    <h2 style="border: 1px solid #c8bdbd; border-top-left-radius: 5px; border-top-right-radius: 5px; color: black; margin-bottom: 0px;" class="mt-4 pl-5 pt-2 pb-2">Winner List</h2>
                    <table class="table table-striped text-center">
                        <tr class="winnerTableHeader">
                            <th scope="col" class="head">Winner No</th>
                            <th scope="col" class="head">Coupon Code</th>
                            <th scope="col" class="head">Name</th>
                            <th scope="col">Prize</th>
                        </tr>
                        <tr *ngFor="let winner of winners" >
                            <td scope="row">{{winner.coupon_lottery_prize_id.place}}</td>
                            <td>{{winner.product_purchased_coupon_code_id}}</td>
                            <td>{{winner.user_id.first_name}} {{winner.user_id.last_name}}</td>
                            <td>{{winner.coupon_lottery_prize_id.name}}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-12 col-sm-12 col-12 mt-5"  *ngIf="notStarted">
            <h1 style="text-align: center;">
                The lottery has not started!!
            </h1>
            <div class="row mt-5 buttonSection">
                <button class="btn mr-1 btnDraw" (click)="makeDraw()">
                    Live Lottery
                </button>
            </div>
        </div>

        <div class="col-md-12 col-sm-12 col-12 mt-4" *ngIf="completed">
            <h1 style="text-align: center;">
                The lottery has been Completed!!
            </h1>
            <div class="row mt-5 buttonSection">
                <button class="btn ml-1 btnWinnerList" (click)="getWinners()">
                    <i class="fa fa-trophy btnWinnerIcon" style=""></i>
                    Winner List
                </button>
            </div>
        </div>

        <div class="col-md-12 col-sm-12 col-12 mt-4 winnerShow" *ngIf="winnerShow">
            <div class="place-container mt-2">
                <img src="assets/images/place.png" alt="place">
                <p class="place">
                    {{currentWinner.coupon_lottery_prize_id.place}}
                </p>
            </div>
            <h2 class="winnerName">{{currentWinner.user_id.first_name}} {{currentWinner.user_id.last_name}}</h2>
            <p class="mt-1 prizeName">{{currentWinner.coupon_lottery_prize_id.name}}</p>
            <div class="image-container">
                <img src="assets/images/prize.png" alt="{{currentWinner.coupon_lottery_prize_id.name}}" class="prizeImage">
            </div>

        </div>
    </div>
</div>
