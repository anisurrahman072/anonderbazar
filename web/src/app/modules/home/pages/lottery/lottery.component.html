<div class="lottery">
    <div class="container-fluid">
        <div class="col-md-12 col-sm-12 col-12 mt-4 couponShow" *ngIf="couponShow">
            <h1 style="text-align: center;">
                Anonder Bazar Live Lottery
            </h1>
            <h3 *ngIf="suggestion" style="text-align: center;">
                "Click" on Live Lottery button to start
            </h3>
            <div class="couponContainer mt-5" *ngIf="currentCoupon">
                    <span *ngFor="let digit of currentCoupon" class="couponDigitBox" >
                        <p [@myAnimation] class="digit">{{digit}}</p>
                    </span>
            </div>
            <div class="row mt-5">
                <button class="btn btn-primary" (click)="makeDraw()" style="display: block; margin: auto;">
                    Live Lottery
                </button>
                <button class="btn btn-primary" (click)="getWinners()" style="display: block; margin: auto;">
                    Winner List
                </button>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 col-sm-12 col-12" *ngIf="winnerListShow">
                <div class="row">
                    <button class="btn btn-primary mt-3" (click)="makeDraw()" style="display: block; margin: auto;">
                        Live Lottery
                    </button>
                    <button class="btn btn-primary mt-3" style="display: block; margin: auto;">
                        Winner List
                    </button>
                </div>
                <h2 style="text-align: center" class="mt-4">Winner List</h2>
                <table class="table table-striped mt-2 w-80 text-center" style="margin: auto;">
                    <tr>
                        <th scope="col">Place</th>
                        <th scope="col">Winner</th>
                        <th scope="col">Coupon</th>
                        <th scope="col">Prize</th>
                    </tr>
                    <tr *ngFor="let winner of winners" >
                        <td scope="row">{{winner.coupon_lottery_prize_id.place}}</td>
                        <td>{{winner.user_id.first_name}} {{winner.user_id.last_name}}</td>
                        <td>{{winner.product_purchased_coupon_code_id}}</td>
                        <td>{{winner.coupon_lottery_prize_id.name}}</td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="col-md-12 col-sm-12 col-12 mt-4" *ngIf="notStarted">
            <h1 style="text-align: center;">
                The lottery has not started!!
            </h1>
            <button class="btn btn-primary" (click)="makeDraw()" style="display: block; margin: auto;">
                Live Lottery
            </button>
        </div>

        <div class="col-md-12 col-sm-12 col-12 mt-4" *ngIf="completed">
            <h1 style="text-align: center;">
                The lottery has been Completed!!
            </h1>
            <button class="btn btn-primary" (click)="getWinners()" style="display: block; margin: auto;">
                Winner List
            </button>
        </div>

        <div class="col-md-12 col-sm-12 col-12 mt-4" *ngIf="winnerShow" style="text-align: center;">
            <div class="place-container">
                <p class="place">{{currentWinner.coupon_lottery_prize_id.place}}</p>
            </div>
            <h2 class="winnerName">{{currentWinner.user_id.first_name}} {{currentWinner.user_id.last_name}}</h2>
            <h2 class="prizeName">{{currentWinner.coupon_lottery_prize_id.name}}</h2>
            <div class="image-container">
                <img src="{{currentWinner.coupon_lottery_prize_id.image}}" alt="{{currentWinner.coupon_lottery_prize_id.name}}">
            </div>

        </div>
    </div>
</div>
