<div class="login-wrapper bd-css">
    <div class="bg-pic">
        <img src="assets/images/new-york-city-buildings-sunrise-morning-hd-wallpaper.jpg" data-src-retina="images/new-york-city-buildings-sunrise-morning-hd-wallpaper.jpg"
            alt="" class="lazy">


        <div class="bg-caption pull-bottom">
            <h2 class="">
                Pages make it easy to enjoy what matters the most in the life</h2>
            <p class="small">
                images Displayed are solely for representation purposes only, All work copyright of respective owner,
                otherwise
                Â© 2020 AnonderBazar.com
            </p>
        </div>
    </div>
    <div class="login-container bg-white">
        <nz-card>
            <ng-template #title>
                Vendor Registration Form
            </ng-template>
            <ng-template #extra>
                <div nz-col [nzOffset]="6" [nzSpan]="16" nz-form-control>
                    <a class="btn" routerLink="/auth/login">Login Here </a>
                </div>
            </ng-template>
            <ng-template #body>
                <form nz-form [formGroup]="validateForm" id="validateForm" (ngSubmit)="submitForm($event, validateForm.value)">
                    <nz-steps [(nzCurrent)]="current">
                        <nz-step (click)="toggle(0)" [nzTitle]="'Owner info'"></nz-step>
                        <nz-step (click)="toggle(1)" [nzTitle]="'Address'"></nz-step>
                    </nz-steps>

                    <div class="steps-content">
                        <div *ngIf="index === 'first'" class="step">
                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label>First name</label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="first_name" [nzType]="'text'" [nzPlaceHolder]="'Write the first part of the name'"
                                        [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('first_name').dirty&&getFormControl('first_name').hasError('required')">
                                       Please enter the first part of the name!
                                    </div>
                                </div>
                            </div>
                            <!--first_name-->

                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label>Last name</label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="last_name" [nzType]="'text'" [nzPlaceHolder]="'Enter Last name'"
                                        [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('last_name').dirty&&getFormControl('last_name').hasError('required')">
                                        Last name is required!
                                    </div>
                                </div>
                            </div>
                            <!--last_name-->
                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label> Gender </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-select formControlName="gender" nzAllowClear [nzPlaceHolder]="'Select gender'"
                                               [nzFilter]="true" [nzNotFoundContent]="'Not found'" nzShowSearch>
                                        <nz-option *ngFor="let option of genderSearchOptions" [nzLabel]="option.label"
                                                   [nzValue]="option.value">
                                        </nz-option>
                                    </nz-select>
                                    <div nz-form-explain *ngIf="getFormControl('gender').dirty&&getFormControl('gender').hasError('required')">
                                       Select gender !
                                    </div>
                                </div>
                            </div>
                            <!--gender-->
                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label> Email </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="email" [nzType]="'email'" [nzPlaceHolder]="'Please Enter Email'"
                                        [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('email').dirty&&getFormControl('email').hasError('email')">
                                        Email is required!
                                    </div>

                                    <div nz-form-explain *ngIf="getFormControl('email').dirty&&getFormControl('email').hasError('taken')">
                                        "{{getFormControl('email').value}}" Already used!
                                    </div>
                                    <div nz-form-explain *ngIf="getFormControl('email').dirty&&getFormControl('email').pending">
                                        Verifying ...
                                    </div>
                                </div>
                            </div>
                            <!--email-->
                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label> Phone Number </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="phone" [nzType]="'text'" [nzPlaceHolder]="'Please Enter Phone Number'"
                                        [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('phone').dirty&&getFormControl('phone').hasError('phone')">
                                        Please Enter valid Phone Number (Ex: 01*********)!
                                    </div>

                                    <div nz-form-explain *ngIf="getFormControl('phone').dirty&&getFormControl('phone').hasError('taken')">
                                        "{{getFormControl('phone').value}}" Already used!
                                    </div>
                                    <div nz-form-explain *ngIf="getFormControl('phone').dirty&&getFormControl('phone').pending">
                                        Verifying ...
                                    </div>
                                </div>
                            </div>
                            <!--phone-->
                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label>NID No.</label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="national_id" [nzType]="'number'" nzMin="'0'"
                                        [nzPlaceHolder]="'Please Enter National Identity Card No.'" [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('national_id').dirty&&getFormControl('national_id').hasError('required')">
                                        NID Card No. is required!
                                    </div>
                                </div>
                            </div>
                            <!--National id-->

                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label>Picture</label>
                                </div>
                                <div nz-col [nzSpan]="12">

                                    <image-upload [max]="1" buttonCaption="Select picture" dropBoxMessage="Drop Picture here"
                                        clearButtonCaption="Clear" (removed)="onRemoved($event)" [beforeUpload]="onBeforeUpload"></image-upload>

                                </div>
                            </div>
                            <!-- picture -->

                        </div>
                        <div *ngIf="index === 'second'" class="step-extra">
                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label>Shop name </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="shop_name" [nzType]="'text'" [nzPlaceHolder]="'Shop name'"
                                              [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('shop_name').dirty&&getFormControl('shop_name').hasError('required')">
                                        Shop is required!
                                    </div>
                                </div>
                            </div>
<!--                            shop name-->
                            <div nz-form-item nz-row>
                                <div nz-form-label nz-col [nzSpan]="7">
                                    <label> Username </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="username" [nzType]="'text'" [nzPlaceHolder]="'UserEnter Name'"
                                        [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('username').dirty&&getFormControl('username').hasError('required')">
                                        required!
                                    </div>
                                    <div nz-form-explain *ngIf="getFormControl('username').dirty&&getFormControl('username').hasError('taken')">
                                        "{{getFormControl('username').value}}" Already used!
                                    </div>
                                    <div nz-form-explain *ngIf="getFormControl('username').dirty&&getFormControl('username').pending">
                                        Verifying ...
                                    </div>
                                </div>
                            </div>
                            <!--username -->

                            <div nz-form-item nz-row>
                                <div nz-form-label nz-col [nzSpan]="7">
                                    <label> Password </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input [(ngModel)]="pass" formControlName="password" [nzType]="'password'"
                                        [nzPlaceHolder]="'Enter password'" [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('password').dirty&&getFormControl('password').hasError('required')">
                                        required!
                                    </div>

                                </div>
                            </div>
                            <!--password -->

                            <div nz-form-item nz-row *ngIf="pass">
                                <div nz-form-label nz-col [nzSpan]="7">
                                    <label> Confirm password </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="confirmPassword" [nzType]="'password'" [nzPlaceHolder]="'Confirm password'"
                                        [nzSize]="'large'">
                                    </nz-input>

                                    <div nz-form-explain *ngIf="getFormControl('confirmPassword').dirty&&getFormControl('confirmPassword').hasError('confirm')">
                                        password not matcing!
                                    </div>

                                </div>
                            </div>
                            <!--confirmPassword -->

                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label>Address</label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <textarea nz-input formControlName="address" [nzSize]="'large'">
                                        </textarea>
                                    <div nz-form-explain *ngIf="getFormControl('address').dirty&&getFormControl('address').hasError('required')">
                                        required!
                                    </div>
                                </div>
                            </div>
                            <!--address-->

                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label> Division </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback> 
                                    <nz-select formControlName="division_id" nzAllowClear [nzPlaceHolder]="'select division'"
                                        [nzFilter]="true" (ngModelChange)="divisionChange($event)" (nzSearchChange)="divisionSearchChange($event)"
                                        [nzNotFoundContent]="'Not found'" nzShowSearch>
                                        <nz-option *ngFor="let option of divisionSearchOptions" [nzLabel]="option.name"
                                            [nzValue]="option.id">
                                        </nz-option>
                                    </nz-select>


                                    <div nz-form-explain *ngIf="getFormControl('division_id').dirty&&getFormControl('division_id').hasError('required')">
                                        Please select !
                                    </div>
                                </div>
                            </div>
                            <!--division-->

                            <div nz-form-item nz-row *ngIf="validateForm.controls.division_id.value">

                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label> District </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>

                                    <nz-select formControlName="zila_id" nzAllowClear [nzPlaceHolder]="'Select District'"
                                        [nzFilter]="true" (ngModelChange)="zilaChange($event)" (nzSearchChange)="zilaSearchChange($event)"
                                        [nzNotFoundContent]="'Not found'" nzShowSearch>
                                        <nz-option *ngFor="let option of zilaSearchOptions" [nzLabel]="option.name"
                                            [nzValue]="option.id">
                                        </nz-option>
                                    </nz-select>
                                    <div nz-form-explain *ngIf="getFormControl('zila_id').dirty&&getFormControl('zila_id').hasError('required')">
                                        Please select !
                                    </div>
                                </div>
                            </div>
                            <!--zila-->

                            <div nz-form-item nz-row *ngIf="validateForm.controls.division_id.value && validateForm.controls.zila_id.value">
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label> Upazila </label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-select formControlName="upazila_id" nzAllowClear [nzPlaceHolder]="'Select Upazila'"
                                        [nzFilter]="true" (nzSearch)="upazilaSearchChange($event)" (nzSearchChange)="upazilaSearchChange($event)"
                                        [nzNotFoundContent]="'Not found'" nzShowSearch>
                                        <nz-option *ngFor="let option of upazilaSearchOptions" [nzLabel]="option.name"
                                            [nzValue]="option.id">
                                        </nz-option>
                                    </nz-select>
                                    <div nz-form-explain *ngIf="getFormControl('upazila_id').dirty&&getFormControl('upazila_id').hasError('required')">
                                        Please select !
                                    </div>
                                </div>
                            </div>

                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label>Post code</label>
                                </div>
                                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                    <nz-input formControlName="postal_code"
                                              [nzType]="'number'" [nzPlaceHolder]="'Post Enter Code'"
                                              [nzSize]="'large'">
                                    </nz-input>
                                    <div nz-form-explain *ngIf="getFormControl('postal_code').dirty&&getFormControl('postal_code').hasError('required')">
                                        required!
                                    </div>
                                </div>
                            </div>
                            <!--postal_code-->

                            <div nz-form-item nz-row>
                                <div nz-col [nzSpan]="7" nz-form-label>
                                    <label>Logo</label>
                                </div>
                                <div nz-col [nzSpan]="12">

                                    <image-upload [max]="1" buttonCaption="Select picture" dropBoxMessage="Drop Picture here"
                                                  clearButtonCaption="Clear" (removed)="logoFile=null" [beforeUpload]="onBeforeLogoUpload"></image-upload>

                                </div>
                            </div> 
                        </div>
                    </div>
                    <div class="steps-action">
                        <button nz-button nzType="default" type="button" (click)="pre()" *ngIf="current > 0">
                            <span>Previous</span>
                        </button>
                        <button nz-button nzType="default" type="button" (click)="next()" *ngIf="current < 1">
                            <span>Next</span>
                        </button>
                        <button nz-button [nzType]="'primary'" *ngIf="current === 1" [disabled]="!validateForm.valid">Save</button>
                        <button nz-button *ngIf="current === 1" (click)="resetForm($event)"> Reset </button>
                    </div> 
                </form>

            </ng-template>
        </nz-card>

    </div>
</div>
