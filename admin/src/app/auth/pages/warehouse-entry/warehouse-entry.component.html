<div class="login-wrapper bd-css">
  <div class="bg-pic">
    <img src="assets/images/new-york-city-buildings-sunrise-morning-hd-wallpaper.jpg" data-src-retina="images/new-york-city-buildings-sunrise-morning-hd-wallpaper.jpg"
      alt="" class="lazy">


    <div class="bg-caption pull-bottom">
      <h2 class="">
        Pages make it easy to enjoy what matters the most in the life</h2>
      <p class="small">
        images Displayed are solely for representation purposes only, All work copyright of respective owner,
        otherwise
        © 2020 Anonder Bazar.
      </p>
    </div>
  </div>
  <div class="login-container bg-white"> 

    <nz-card *ngIf="!this.currentUser?.warehouse_id ">
      <ng-template #title>
        দোকানের নিবন্ধন ফর্ম
      </ng-template>
      <ng-template #extra>
        <div nz-col [nzOffset]="6" [nzSpan]="16" nz-form-control>
          <a class="btn" routerLink="/"> লগ ইন করুন </a>
        </div>
      </ng-template>
      <ng-template #body>
        <form nz-form [formGroup]="validateForm" id="validateForm" (ngSubmit)="submitForm($event,validateForm.value)">
          <nz-steps [nzCurrent]="current">
            <nz-step nzTitle="প্রতিষ্ঠানের তথ্য"></nz-step>
            <nz-step nzTitle="Address"></nz-step>
            <nz-step nzTitle="বাহ্যিক তথ্য"></nz-step>
          </nz-steps>

          <div class="steps-content">
            <div *ngIf="index === 'first'" class="step">
              <div nz-form-item nz-row>
                <!--name start-->
                <div nz-form-label nz-col [nzSpan]="7">
                  <label>প্রতিষ্ঠানের Name</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="name" [nzType]="'text'" [nzPlaceHolder]="'প্রতিষ্ঠানের Enter Name'"
                    [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">
                    দয়া করে প্রতিষ্ঠানের Enter Name!
                  </div>
                  <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('duplicated')">
                    প্রতিষ্ঠানের Name already exists!
                  </div>
                  <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').pending">
                    Verifying ...
                  </div>
                </div>
              </div>
              <!--name -->
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Code</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="code" [nzType]="'text'" [nzPlaceHolder]="'Enter Code'" [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('code').dirty&&getFormControl('code').hasError('required')">
                    দয়া করে Enter Code!
                  </div>
                </div>
              </div>
              <!--code-->

              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Phone</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="phone" [nzType]="'text'" [nzPlaceHolder]="'Phone Number লিপিবদ্ধ করুন'"
                    [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('phone').dirty&&getFormControl('phone').hasError('required')">
                    দয়া করে Phone Number লিপিবদ্ধ করুন!
                  </div>
                </div>
              </div>
              <!--phone-->
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Email</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="email" [nzType]="'email'" [nzPlaceHolder]="'Email লিপিবদ্ধ করুন'" [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('email').dirty&&getFormControl('email').hasError('required')">
                    Name is required!
                  </div>
                </div>
              </div>
              <!--email-->
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>কর্মী সংখ্যা</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="employee_count" [nzType]="'number'" nzMin="'0'" [nzPlaceHolder]="'কর্মী সংখ্যা লিপিবদ্ধ করুন'" [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('employee_count').dirty&&getFormControl('employee_count').hasError('required')">
                    দয়া করে কর্মী সংখ্যা লিপিবদ্ধ করুন!
                  </div>
                </div>
              </div>
              <!--employee number-->

              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>License no</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="license_no" [nzType]="'text'" [nzPlaceHolder]="'License no লিপিবদ্ধ করুন'"
                    [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('license_no').dirty&&getFormControl('license_no').hasError('required')">
                    Name is required!
                  </div>
                </div>
              </div>
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Tin number</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="tin_no" [nzType]="'text'" [nzPlaceHolder]="'Tin number লিপিবদ্ধ করুন'"
                    [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('tin_no').dirty&&getFormControl('tin_no').hasError('required')">
                    Tin number is required!
                  </div>
                </div>
              </div>
              <!--tin_no-->
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>ভ্যাট নং</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="vat_no" [nzType]="'text'" [nzPlaceHolder]="'ভ্যাট নং লিপিবদ্ধ করুন'"
                    [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('vat_no').dirty&&getFormControl('vat_no').hasError('required')">
                    দয়া করে ভ্যাট নং লিপিবদ্ধ করুন!
                  </div>
                </div>
              </div>
              <!--vat_no-->

              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Logo</label>
                </div>
                <div nz-col [nzSpan]="12">

                  <image-upload [max]="1" (removed)="onRemoved($event)" buttonCaption="Select picture"
                    dropBoxMessage="Drop Picture here" clearButtonCaption="remove it?" [beforeUpload]="onBeforeUpload"></image-upload>

                </div>
              </div>
              <!-- logo -->
            </div>
            <div *ngIf="index === 'second'" class="step">
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Address</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <textarea nz-input formControlName="address" [nzSize]="'large'">
                            </textarea>
                  <div nz-form-explain *ngIf="getFormControl('address').dirty&&getFormControl('address').hasError('required')">
                    required!
                  </div>
                </div>
              </div>
              <!--address-->
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Division</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback> 
                  <nz-select formControlName="division_id" nzAllowClear [nzPlaceHolder]="'select division'"
                    [nzFilter]="true" (ngModelChange)="divisionChange($event)" (nzSearchChange)="divisionSearchChange($event)"
                    [nzNotFoundContent]="'Not found'" nzShowSearch>
                    <nz-option *ngFor="let option of divisionSearchOptions" [nzLabel]="option.name" [nzValue]="option.id">
                    </nz-option>
                  </nz-select>


                  <div nz-form-explain *ngIf="getFormControl('division_id').dirty&&getFormControl('division_id').hasError('required')">
                    required!
                  </div>
                </div>
              </div>
              <!--division-->
              <div nz-form-item nz-row *ngIf="validateForm.controls.division_id.value">

                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>District</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>

                  <nz-select formControlName="zila_id" nzAllowClear [nzPlaceHolder]="'Select District'" [nzFilter]="true"
                    (ngModelChange)="zilaChange($event)" (nzSearchChange)="zilaSearchChange($event)"
                    [nzNotFoundContent]="'Not found'" nzShowSearch>
                    <nz-option *ngFor="let option of zilaSearchOptions" [nzLabel]="option.name" [nzValue]="option.id">
                    </nz-option>
                  </nz-select>
                  <div nz-form-explain *ngIf="getFormControl('zila_id').dirty&&getFormControl('zila_id').hasError('required')">
                    required!
                  </div>
                </div>
              </div>
              <!--zila-->
              <div nz-form-item nz-row *ngIf="validateForm.controls.division_id.value && validateForm.controls.zila_id.value">
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Upazila</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-select formControlName="upazila_id" nzAllowClear [nzPlaceHolder]="'Select Upazila'"
                    [nzFilter]="true" (nzSearch)="upazilaSearchChange($event)" (nzSearchChange)="upazilaSearchChange($event)"
                    [nzNotFoundContent]="'Not found'" nzShowSearch>
                    <nz-option *ngFor="let option of upazilaSearchOptions" [nzLabel]="option.name" [nzValue]="option.id">
                    </nz-option>
                  </nz-select>
                  <div nz-form-explain *ngIf="getFormControl('upazila_id').dirty&&getFormControl('upazila_id').hasError('required')">
                    required!
                  </div>
                </div>
              </div>
              <!--upazila-->
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Post code</label>
                </div>
                <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="postal_code" [nzType]="'text'" [nzPlaceHolder]="'Post Enter Code'"
                    [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain *ngIf="getFormControl('postal_code').dirty&&getFormControl('postal_code').hasError('required')">
                    required!
                  </div>
                </div>
              </div>
              <!--postal-->
            </div>
            <div *ngIf="index === 'third'" class="step-extra">
              <div nz-form-item nz-row>
                <div nz-col [nzSpan]="7" nz-form-label>
                  <label>Invoice footer</label>
                </div>
                <div nz-col [nzSpan]="16" style="left: 3%" nz-form-control nzHasFeedback>
                  <ckeditor formControlName="invoice_footer" [config]="ckConfig" [readonly]="false" debounce="500">
                  </ckeditor>
                  <div nz-form-explain *ngIf="getFormControl('invoice_footer').dirty&&getFormControl('invoice_footer').hasError('required')">
                    required!
                  </div>
                </div>
              </div>
              <!--invoiceFooter-->
              <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>উৎপাদিত বহুমুখী পাটপণ্যের Name</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <textarea nz-input formControlName="question_1" [nzSize]="'large'">
                              </textarea>
                    <div nz-form-explain *ngIf="getFormControl('question_1').dirty&&getFormControl('question_1').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
                <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>উৎপাদিত বহুমুখী পাটপণ্যের স্থানীয় বাজারের তথ্যাদি</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <textarea nz-input formControlName="question_2" [nzSize]="'large'">
                              </textarea>
                    <div nz-form-explain *ngIf="getFormControl('question_2').dirty&&getFormControl('question_2').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
                <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>উৎপাদিত বহুমুখী পাটপণ্যের রপ্তানিকৃত দেশের Name</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <textarea nz-input formControlName="question_3" [nzSize]="'large'">
                              </textarea>
                    <div nz-form-explain *ngIf="getFormControl('question_3').dirty&&getFormControl('question_3').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
                <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>উৎপাদিত বহুমুখী পাটপণ্যের রপ্তানির বাৎসরিক পরিমান</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <textarea nz-input formControlName="question_4" [nzSize]="'large'">
                              </textarea>
                    <div nz-form-explain *ngIf="getFormControl('question_4').dirty&&getFormControl('question_4').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
                <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>স্থানীয় ও আন্তর্জাতিক মেলায় অংশগ্রহণের তথ্যাদি</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <textarea nz-input formControlName="question_5" [nzSize]="'large'">
                              </textarea>
                    <div nz-form-explain *ngIf="getFormControl('question_5').dirty&&getFormControl('question_5').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
                <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>জেডিপিসি ব্যাতীত অন্য কোন প্রতিষ্ঠানে নিবন্ধন আছে কিনা ?</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <!-- <textarea nz-input formControlName="question_6" [nzSize]="'large'">
                              </textarea> -->
                    <nz-radio-group formControlName="question_6_value">
                        <label nz-radio [nzValue]="'1'">
                          <span>Yes</span>
                        </label>
                        <label nz-radio [nzValue]="'0'">
                          <span>No</span>
                        </label>
                      </nz-radio-group>
                    <div nz-form-explain *ngIf="getFormControl('question_6_value').dirty&&getFormControl('question_6_value').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
                <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>জাতীয় বা আন্তর্জাতিক এওয়ার্ড বা স্বীকৃতি আছে কিনা ?</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <!-- <textarea nz-input formControlName="question_7" [nzSize]="'large'">
                              </textarea> -->
                    <nz-radio-group formControlName="question_7_value">
                        <label nz-radio [nzValue]="'1'">
                          <span>Yes</span>
                        </label>
                        <label nz-radio [nzValue]="'0'">
                          <span>No</span>
                        </label>
                      </nz-radio-group>
                    <div nz-form-explain *ngIf="getFormControl('question_7_value').dirty&&getFormControl('question_7_value').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
                <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>পাটখাট ব্যাতীত অন্য কোনো ব্যবসার সাথে সংশ্লিষ্ট বা জড়িত কিনা ?</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <!-- <textarea nz-input formControlName="question_8" [nzSize]="'large'">
                              </textarea> -->
                    <nz-radio-group formControlName="question_8_value">
                        <label nz-radio [nzValue]="'1'">
                          <span>Yes</span>
                        </label>
                        <label nz-radio [nzValue]="'0'">
                          <span>No</span>
                        </label>
                      </nz-radio-group>
                    <div nz-form-explain *ngIf="getFormControl('question_8_value').dirty&&getFormControl('question_8_value').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
                <div nz-form-item nz-row>
                  <div nz-col nz-form-label class="question-label">
                    <label>প্রশিক্ষণ সংক্রান্ত তথ্যাদি দেশ / বিদেশ</label>
                  </div>
                  <div nz-col nz-form-control [nzSpan]="16" style="left: 3%" nzHasFeedback>
                    <textarea nz-input formControlName="question_9" [nzSize]="'large'">
                              </textarea>
                    <div nz-form-explain *ngIf="getFormControl('question_9').dirty&&getFormControl('question_9').hasError('required')">
                      required!
                    </div>
                  </div>
                </div>
                <!--question_1-->
            </div>
          </div>
          <div class="steps-action">
            <button nz-button nzType="default" type="button" (click)="pre()" *ngIf="current > 0">
              <span>Previous</span>
            </button>
            <button nz-button nzType="default" type="button" (click)="next()" *ngIf="current < 2">
              <span>Next</span>
            </button>
            <button nz-button [nzType]="'primary'" *ngIf="current === 2" [disabled]="!validateForm.valid">Save</button>
            <button nz-button *ngIf="current === 2" (click)="resetForm($event)"> Reset </button>
          </div> 
        </form>
      </ng-template>
    </nz-card>


  </div>
</div>
