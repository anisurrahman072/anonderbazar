<nz-modal [nzFooter]="null" [nzVisible]="isEditModalVisible" [nzTitle]="'Edit Header'" [nzContent]="editmodalContent" (nzOnCancel)="handleModalCancel($event)"
    (nzOnOk)="handleModalOk($event)">
    <ng-template #editmodalContent>
        <div class="spinning">
            <nz-spin [nzSpinning]="_isSpinning">
                <form nz-form [formGroup]="editValidateForm" id="editValidateForm" (ngSubmit)="submitEditForm($event,editValidateForm.value)" enctype="multipart/form-data">
                    <div nz-form-item nz-row>
                        <!--title start-->
                        <div nz-form-label nz-col [nzSpan]="7">
                            <label>Title</label>
                        </div>
                        <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                            <nz-input formControlName="title" [nzType]="'text'" [nzPlaceHolder]="'insert title'" [nzSize]="'large'">
                            </nz-input>
                            <div nz-form-explain *ngIf="getEditFormControl('title').dirty&&getEditFormControl('title').hasError('required')">
                                Please input title !
                            </div>
                            <div nz-form-explain *ngIf="getEditFormControl('title').dirty&&getEditFormControl('title').hasError('duplicated')">
                                Name already exists!
                            </div>
                            <div nz-form-explain *ngIf="getEditFormControl('title').dirty&&getEditFormControl('title').pending">
                                Validating...
                            </div>
                        </div>
                    </div>
                    <!--Title -->

                    <div nz-form-item nz-row>
                        <div nz-col [nzSpan]="7" nz-form-label>
                            <label>Description</label>
                        </div>
                        <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                            <nz-input formControlName="description" [nzType]="'textarea'" [nzPlaceHolder]="'insert description'" [nzSize]="'large'">
                            </nz-input>
                            <div nz-form-explain *ngIf="getEditFormControl('description').dirty&&getEditFormControl('description').hasError('required')">
                                Please input description !
                            </div>
                        </div>
                    </div>
                    <!--description-->


                    <div nz-form-item nz-row>
                        <div nz-col [nzSpan]="7" nz-form-label>
                            <label>Image</label>
                        </div>
                        <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                            <image-upload [max]="1" (removed)="onRemoved($event)" (uploadStateChanged)="onUploadStateChanged($event)" [beforeUpload]="onBeforeUpload"></image-upload>
                            <div nz-form-explain *ngIf="!ImageFile">
                                Please upload an image here!
                            </div>
                        </div>
                    </div>
                    <!--image-->


                    <div nz-form-item nz-row>
                        <div nz-col [nzOffset]="7" [nzSpan]="12" nz-form-control>
                            <button nz-button [nzType]="'primary'" [nzSize]="'large'" [disabled]="!ImageFile">

                                Submit
                            </button>
                            <button nz-button [nzSize]="'large'" (click)="resetForm($event)">Reset</button>
                        </div>
                    </div>
                </form>
            </nz-spin>
        </div>
    </ng-template>
</nz-modal>



<div class="row">
    <div class="col-md-6" *ngFor="let header of cmsHeaderData; let i = index" [attr.data-index]="i">
        <nz-card>
            <ng-template #title>
                Title: {{header.title}}
            </ng-template>
            <ng-template #extra>
                <div style="text-align: right">
                    <button nz-button [nzType]="'primary'" (click)="showEditModal(i)">
                        <span>
                            <i class="anticon anticon-edit"> Edit </i>
                        </span>
                    </button>
                </div>
            </ng-template>

            <ng-template #body>
                <div class="col-md-6"> Description: {{header.description}} </div>
                <div class="col-md-6">
                    <img class="img img-responsive " alt="{{header.image}}" src="{{ IMAGE_ENDPOINT + header.image}}" />
                </div>
            </ng-template>
        </nz-card>
    </div>
</div>
