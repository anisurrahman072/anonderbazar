<div>
    
    <nz-modal [nzFooter]="null" [nzVisible]="isAddModalVisible" [nzTitle]="'Create Post'" [nzContent]="modalContent"
              (nzOnCancel)="handleModalCancel($event)" (nzOnOk)="handleModalOk($event)" footer={null}
              class="create-modal">
        <ng-template #modalContent>

            <div class=" spinning">
                <nz-spin [nzSpinning]="_isSpinning">
                    <form nz-form [formGroup]="validateForm" id="validateForm"
                          (ngSubmit)="submitForm($event,validateForm.value)">
                        <div nz-form-item nz-row *ngIf="sectionoptionsData">
                            <!--title start-->
                            <div nz-form-label nz-col [nzSpan]="7">
                                <label>Section</label>
                            </div>


                            <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>



                                <nz-select formControlName="section"
                                           [nzPlaceHolder]=" 'input search text'" [(ngModel)]="selectedSection"
                                           (ngModelChange)="sectionChange($event)">
                                    <nz-option *ngFor="let option of sectionoptionsData" [nzLabel]="option.section"
                                               [nzValue]="option.section">

                                    </nz-option>
                                </nz-select>

                            </div>
                        </div>
                        <div nz-form-item nz-row *ngIf="subsectionOptions">
                            <!--title start-->
                            <div nz-form-label nz-col [nzSpan]="7">
                                <label>SubSection</label>
                            </div>

                            <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>


                                <nz-select [(ngModel)]="selectedSubSection" formControlName="sub_section" [nzPlaceHolder]=" 'input search text'">

                                    <nz-option *ngFor="let option of subsectionOptions" [nzLabel]="option" [nzValue]="option">
                                    </nz-option>
                                </nz-select>

                            </div>
                        </div>
                        
                        <div nz-form-item nz-row>
                            <!--title start-->
                            <div nz-form-label nz-col [nzSpan]="7">
                                <label>Title</label>
                            </div>


                            <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>

                                <nz-input formControlName="title" [nzType]=" 'text'" [nzPlaceHolder]=" 'insert title'" [nzSize]=" 'large'">
                                </nz-input>
                                <div nz-form-explain *ngIf="getFormControl( 'title').dirty&&getFormControl('title').hasError( 'required')">
                                    Please input title !
                                </div>
                                <div nz-form-explain *ngIf="getFormControl( 'title').dirty&&getFormControl('title').hasError( 'duplicated')">
                                    Name already exists!
                                </div>
                                <div nz-form-explain *ngIf="getFormControl( 'title').dirty&&getFormControl('title').pending">
                                    Validating...
                                </div>
                            </div>
                        </div>
                        <!--Title -->

                        <div nz-form-item nz-row>
                            <div nz-col [nzSpan]="7" nz-form-label>
                                <label>Description</label>
                            </div>
                            <div nz-col [nzSpan]="17" nz-form-control nzHasFeedback>

                                <ckeditor formControlName="description" [config]="ckConfig" [readonly]="false"
                                          debounce="500">

                                </ckeditor>
                                <div nz-form-explain *ngIf="getFormControl( 'description').dirty&&getFormControl('description').hasError( 'required')">
                                    Please input description !
                                </div>
                            </div> 
                        </div>
                        <!--description-->


                        <div nz-form-item nz-row>
                            <div nz-col [nzSpan]="7" nz-form-label>
                                <label>Image</label>
                            </div>
                            <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                                <image-upload [max]="1" (removed)="onRemoved($event)" #Image (imageSelected)="selected($event)" (uploadStateChanged)="onUploadStateChanged($event)" [beforeUpload]="onBeforeUpload"></image-upload>
                                <div nz-form-explain *ngIf="!ImageFile">
                                    Please upload an image here!
                                </div>
                            </div>
                        </div>
                        <!--image-->


                        <div nz-form-item nz-row>
                            <div nz-col [nzOffset]="7" [nzSpan]="12" nz-form-control>
                                <button nz-button [nzType]=" 'primary'" [nzSize]="'large'" [disabled]="!validateForm.valid || !ImageFile">
                                    Submit
                                </button>
                                <button nz-button [nzSize]=" 'large'" (click)="resetForm($event)">Reset</button>
                                <button nz-button [nzSize]=" 'large'" (click)="handleModalCancel($event)">Cancel
                                </button>
                            </div>
                        </div>
                    </form>
                </nz-spin>
            </div>
        </ng-template>
    </nz-modal>


    <nz-tabset> 
        <nz-tab>
            <div class="col-md-12">
                <button class="btn btn-info pull-right" (click)="showCreateModal()">Add New</button>
            </div>
            <ng-template #nzTabHeading>
                <i [ngClass]=" 'anticon anticon-copyright'"></i>Middle

            </ng-template>


            <span>
                <!--footer....................-->
                <app-cms-feature-footer></app-cms-feature-footer>


            </span>


        </nz-tab> 
        <nz-tab>
            <div class="col-md-12">
                <button class="btn btn-info pull-right" (click)="showCreateModal()">Add New</button>
            </div>
            <ng-template #nzTabHeading>
                <i [ngClass]=" 'anticon anticon-apple'"></i>NONE

            </ng-template>


            <span>
                <app-cms-post></app-cms-post>
            </span>


        </nz-tab>
        <nz-tab>
            <ng-template #nzTabHeading>
                <i [ngClass]=" 'anticon anticon-gift'"></i>Category 
            </ng-template> 
            <span>
                <app-cms-offer></app-cms-offer>
            </span> 
        </nz-tab>

        <nz-tab>

        </nz-tab>
    </nz-tabset>

</div>
