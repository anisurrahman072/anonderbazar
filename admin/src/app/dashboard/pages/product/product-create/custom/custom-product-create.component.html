<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm($event,validateForm.value)">

    <div class="row">
        <div class="col-md-6">
            <div nz-row>
                <!--name start-->

                <div nz-col [nzSpan]="7">
                    <label> Name </label>
                </div>
                <div nz-col [nzSpan]="12">
                    <input nz-input formControlName="name" [placeholder]="'Enter Name'"
                           [nzSize]="'large'">

                    <div
                            *ngIf="getFormControl('name').dirty && getFormControl('name').hasError('required')">
                        Name is required!
                    </div>
                    <div
                            *ngIf="getFormControl('name').dirty && getFormControl('name').hasError('duplicated')">
                        Name already exists!
                    </div>
                    <div *ngIf="getFormControl('name').dirty && getFormControl('name').pending">
                        Verifying ...
                    </div>
                </div>
            </div>
            <!--name -->

        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label> Code </label>
                </div>
                <div nz-col [nzSpan]="12">
                    <input nz-input formControlName="code" [placeholder]="'Enter Code'"
                           [nzSize]="'large'">

                </div>
            </div>
            <!--code-->
        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label> Price </label>
                </div>
                <div nz-col [nzSpan]="12">
                    <input nz-input formControlName="price" [placeholder]="'Enter Price'"
                           [nzSize]="'large'">
                    <div *ngIf="getFormControl('price').dirty && getFormControl('price').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label> Vendor Price </label>
                </div>
                <div nz-col [nzSpan]="12">
                    <input nz-input formControlName="vendor_price" [placeholder]="'Enter Vendor Price'"
                           [nzSize]="'large'">
                    <div
                            *ngIf="getFormControl('vendor_price').dirty && getFormControl('vendor_price').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
        </div>
        <!--price-->
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label>Min Order Quantity</label>
                </div>
                <div nz-col [nzSpan]="12">

                    <input nz-input formControlName="min_unit"
                           [placeholder]="'Enter Min Order Quantity'" [nzSize]="'large'">

                    <div
                            *ngIf="getFormControl('min_unit').dirty && getFormControl('min_unit').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--min_unit-->

        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label> Quantity </label>
                </div>
                <div nz-col [nzSpan]="12">
                    <input nz-input formControlName="quantity" [placeholder]="'Enter Quantity'"
                           [nzSize]="'large'">

                    <div
                            *ngIf="getFormControl('quantity').dirty && getFormControl('quantity').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--quantity-->

        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label>Alert Quantity</label>
                </div>
                <div nz-col [nzSpan]="12">
                    <input nz-input formControlName="alert_quantity"
                           [placeholder]="'Enter Alert Quantity'" [nzSize]="'large'">

                    <div
                            *ngIf="getFormControl('alert_quantity').dirty && getFormControl('alert_quantity').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--alert_quantity-->
        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label>Product Category </label>
                </div>
                <div nz-col [nzSpan]="12">
                    <nz-select formControlName="type_id" (ngModelChange)="onTypeChange($event)" nzAllowClear
                               [nzPlaceHolder]="'Select Product Category'"
                               [nzNotFoundContent]="'Not found'"
                               nzShowSearch>
                        <nz-option *ngFor="let option of typeSearchOptions" [nzLabel]="option.name"
                                   [nzValue]="option.id">
                        </nz-option>
                    </nz-select>
                    <div
                            *ngIf="getFormControl('type_id').dirty && getFormControl('type_id').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--type_id-->

        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label>Product Brand</label>
                </div>
                <div nz-col [nzSpan]="12">
                    <nz-select formControlName="brand_id" nzAllowClear [nzPlaceHolder]="'Select Product Brand'"
                               [nzNotFoundContent]="'Not found'" nzShowSearch>
                        <nz-option *ngFor="let option of brandSearchOptions" [nzLabel]="option.name"
                                   [nzValue]="option.id">
                        </nz-option>
                    </nz-select>
                    <div
                            *ngIf="getFormControl('brand_id').dirty && getFormControl('brand_id').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--brand_id-->
        </div>
    </div>

    <div class="row">
        <div class="col-md-6" *ngIf="categorySearchOptions.length>0">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label> Product s-category </label>
                </div>
                <div nz-col [nzSpan]="12">
                    <nz-select formControlName="category_id" nzAllowClear (ngModelChange)="categoryChange($event)"
                               [nzPlaceHolder]="'Select Product S-Category'"
                               [nzNotFoundContent]="'Not found'" nzShowSearch>
                        <nz-option *ngFor="let option of categorySearchOptions" [nzLabel]="option.name"
                                   [nzValue]="option.id">
                        </nz-option>
                    </nz-select>
                    <div
                            *ngIf="getFormControl('category_id').dirty && getFormControl('category_id').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--category_id-->
        </div>
        <div class="col-md-6">
            <div nz-row *ngIf="subcategorySearchOptions.length>0">
                <div nz-col [nzSpan]="7">
                    <label> Product ss-category </label>
                </div>
                <div nz-col [nzSpan]="12">

                    <nz-select formControlName="subcategory_id" nzAllowClear
                               [nzPlaceHolder]="'Select Product SS-Category'"
                               [nzNotFoundContent]="'Not found'"
                               nzShowSearch>
                        <nz-option *ngFor="let option of subcategorySearchOptions" [nzLabel]="option.name"
                                   [nzValue]="option.id">
                        </nz-option>
                    </nz-select>
                    <div
                            *ngIf="getFormControl('subcategory_id').dirty && getFormControl('subcategory_id').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--subcategory_id-->
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label>Tag</label>
                </div>
                <div nz-col [nzSpan]="12">
                    <nz-select style="width: 100%" formControlName="tag" [nzPlaceHolder]="'Insert tag'"
                               [(ngModel)]="tag" [nzSize]="'large'" [nzMode]="'tags'">
                        <nz-option *ngFor="let option of tagOptions" [nzLabel]="option.label" [nzValue]="option.label"
                                   [nzDisabled]="option.disabled">
                        </nz-option>
                    </nz-select>

                    <div
                            *ngIf="getFormControl('tag').dirty && getFormControl('tag').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--tag-->
        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label> Weight </label>
                </div>
                <div nz-col [nzSpan]="12">
                    <input nz-input formControlName="weight" [placeholder]="'Enter Weight'"
                           [nzSize]="'large'">

                    <div
                            *ngIf="getFormControl('weight').dirty && getFormControl('weight').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--weight-->
        </div>
        <div class="col-md-6">
            <div nz-row>
                <div nz-col [nzSpan]="7">
                    <label>Featured Product?</label>
                </div>
                <div nz-col [nzSpan]="12">
                    <nz-switch formControlName="featured" nzUnCheckedChildren="No" nzCheckedChildren="Yes">
                    </nz-switch>
                    <div
                            *ngIf="getFormControl('featured').dirty && getFormControl('featured').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--featured-->
        </div>
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-6">
                    <div nz-row>
                        <div nz-col [nzSpan]="7">
                            <label>Front Image</label>
                        </div>
                        <div nz-col [nzSpan]="12">
                            <image-upload #Image [max]="1" buttonCaption="Select picture"
                                          dropBoxMessage="Drop Picture here"
                                          clearButtonCaption="remove" (removed)="onRemovedFront($event)"
                                          [uploadedFiles]="ImageFrontFile" [beforeUpload]="onBeforeUploadFront">
                            </image-upload>
                            <div
                                    *ngIf="getFormControl('image').dirty && getFormControl('image').hasError('required')">
                                required!
                            </div>
                        </div>
                    </div>
                    <!--image-->
                </div>
                <div class="col-md-6">
                    <div nz-row>
                        <div nz-col [nzSpan]="7">
                            <label>Picture</label>
                        </div>
                        <div nz-col [nzSpan]="12">
                            <!-- {{ImageFile | json}} -->
                            <image-upload #Image [max]="5" buttonCaption="Select picture"
                                          dropBoxMessage="Drop Picture here"
                                          clearButtonCaption="remove" (removed)="onRemoved($event)"
                                          [uploadedFiles]="ImageFile" [beforeUpload]="onBeforeUpload">
                            </image-upload>
                            <div
                                    *ngIf="getFormControl('image').dirty && getFormControl('image').hasError('required')">
                                required!
                            </div>
                        </div>
                    </div>
                    <!--image-->
                </div>
            </div>
            <!--Image-->
        </div>

        <!--Image-->
        <div class="col-md-12">
            <div nz-row>
                <div nz-col [nzSpan]="3">
                    <label> Product Description</label>
                </div>
                <div nz-col [nzSpan]="16">

                    <ckeditor formControlName="product_details" [config]="ckConfig" [readonly]="false" debounce="500">
                    </ckeditor>
                    <div
                            *ngIf="getFormControl('product_details').dirty && getFormControl('product_details').hasError('required')">
                        required!
                    </div>
                </div>
            </div>
            <!--product_details-->
        </div>
    </div>

    <div nz-row>
        <div nz-col [nzOffset]="7" [nzSpan]="12">
            <button nz-button [nzType]="'primary'" [nzSize]="'large'"
                    [disabled]="!validateForm.valid || isSubmit == false">Save
            </button>
            <button nz-button [nzSize]="'large'" (click)="resetForm($event)"> Reset</button>
        </div>
    </div>
</form>


