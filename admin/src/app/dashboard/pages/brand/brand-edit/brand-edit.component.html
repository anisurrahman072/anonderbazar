<nz-spin [nzSpinning]="_isSpinning">
    <nz-card>
        <ng-template #title>
            Edit Brand
        </ng-template>
        <ng-template #extra>
            <button *ngIf="'brand-read'|accessControl" routerLink="/dashboard/brand" nz-button [nzType]="'primary'"
                [nzSize]="'large'">
                <i class="anticon anticon-file-text"></i><span> List </span>
            </button>

        </ng-template>
        <ng-template #body>
            <form nz-form [formGroup]="validateForm" id="validateForm" (ngSubmit)="submitForm($event,validateForm.value)">

                <div class="col-md-3">
                    <div class="row">
                        <div nz-form-item nz-row>
                            <div nz-col [nzSpan]="16" nz-form-control nzHasFeedback>
                                <image-upload [max]="1" (removed)="onRemoved($event)" buttonCaption="Select picture"
                                dropBoxMessage="Drop Picture here"
                                clearButtonCaption="remove it?"
                                    [beforeUpload]="onBeforeUpload">
                                </image-upload>
                                <div nz-form-explain *ngIf="getFormControl('image').dirty && getFormControl('image').hasError('required')">
                                    Please upload an image here!
                                </div>
                            </div>
                        </div>
                        <!--image-->
                    </div>
                </div>
                <div class="col-md-9">
                    <div nz-form-item nz-row>
                        <!--name start-->

                        <div nz-form-label nz-col [nzSpan]="2">
                            <label> Name </label>
                        </div>
                        <div nz-col [nzSpan]="16" nz-form-control nzHasFeedback>
                            <nz-input formControlName="name" [nzType]="'text'" [nzPlaceHolder]="'Enter Name'" [nzSize]="'large'">
                            </nz-input>
                            <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">
                                Name is required!
                            </div>
                            <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('duplicated')">
                                Name already exists!
                            </div>
                            <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').pending">
                                Verifying ...
                            </div>
                        </div>
                    </div>
                    <!--name -->

                    <div nz-form-item nz-row>
                        <div nz-col [nzSpan]="2" nz-form-label>
                            <label> Code </label>
                        </div>
                        <div nz-col [nzSpan]="16" nz-form-control nzHasFeedback>
                            <nz-input formControlName="code" [nzType]="'text'" [nzPlaceHolder]="'Enter Code'" [nzSize]="'large'">
                            </nz-input>
                            <div nz-form-explain *ngIf="getFormControl('code').dirty&&getFormControl('code').hasError('required')">
                                দয়া করে Enter Code!
                            </div>
                        </div>
                    </div>
                    <!--code-->




                    <div nz-form-item nz-row>
                        <div nz-col [nzOffset]="2" [nzSpan]="16" nz-form-control>
                            <button nz-button [nzType]="'primary'" [nzSize]="'large'" [disabled]="!validateForm.valid">
                                Save
                            </button>
                            <button nz-button [nzSize]="'large'" (click)="resetForm($event)"> Reset</button>
                        </div>
                    </div>
                </div>

            </form>
        </ng-template>
    </nz-card>
</nz-spin>
