<nz-card>
  <ng-template #title>
      Add Offer
  </ng-template>
  <ng-template #extra>
      <button routerLink="/dashboard/offer" nz-button [nzType]="'primary'"
              [nzSize]="'large'">
          <i class="anticon anticon-file-text"></i><span> Offer List </span>
      </button>
  </ng-template>
  <ng-template #body>
      <form nz-form [formGroup]="validateForm" id="validateForm" (ngSubmit)="submitForm($event,validateForm.value)">

          <div nz-form-item nz-row><!--name start-->
              <div nz-form-label nz-col [nzSpan]="7">
                  <label> Title </label>
              </div>
              <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                  <nz-input formControlName="title" [nzType]="'text'" [nzPlaceHolder]="'Enter title'"
                            [nzSize]="'large'">
                  </nz-input>
                  <div nz-form-explain
                       *ngIf="getFormControl('title').dirty&&getFormControl('title').hasError('required')">
                       Title is required!
                  </div> 
              </div>
          </div><!--name -->
          <div nz-form-item nz-row>
            <!--title start-->
            <div nz-form-label nz-col [nzSpan]="7">
                <label>Offer Type</label>
            </div>

            <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>


                <nz-select formControlName="offer_type" (ngModelChange)="typeChange($event)"
                    [nzPlaceHolder]=" 'input search text'">

                    <nz-option *ngFor="let option of [{value:'PARENTOFFER', label: 'Parent Offer'}, {value:'OFFER', label: 'Offer'}]" [nzLabel]="option.label" [nzValue]="option.value">
                    </nz-option>
                </nz-select>
                <div nz-form-explain
                        *ngIf="getFormControl('offer_type').dirty&&getFormControl('offer_type').hasError('required')">
                        Offer type is required!
                </div>
            </div>
        </div>
        <div nz-form-item nz-row>
            <div nz-col [nzSpan]="7" nz-form-label>
                <label>Image</label>
            </div>
            <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                <image-upload [max]="1" (removed)="onRemoved($event)" (uploadStateChanged)="onUploadStateChanged($event)"
                    [beforeUpload]="onBeforeUpload"></image-upload>
                <div nz-form-explain *ngIf="!ImageFile">
                    Please upload an image here!
                </div>
            </div>
        </div>
        <!--image-->
        <div nz-form-item nz-row *ngIf='linkVisible'>
            <div nz-col [nzSpan]="7" nz-form-label>
                <label>Link</label>
            </div>
            <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
                <nz-input formControlName="link" [nzType]="'text'" [nzPlaceHolder]="'Insert Link'" [nzSize]="'large'">
                </nz-input>
                <div nz-form-explain *ngIf="getFormControl('link').dirty&&getFormControl('link').hasError('required')">
                    Please insert Link!
                </div>
            </div>
        </div>
          <div nz-form-item nz-row>
              <div nz-col [nzSpan]="7" nz-form-label>
                  <label>  Short description </label>
              </div>
              <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>

                <ckeditor formControlName="description" [config]="ckConfig" [readonly]="false " debounce="500 "></ckeditor>
                <div nz-form-explain *ngIf="getFormControl('description').dirty&&getFormControl('description').hasError('required')">
                  Please enter short description !
                </div>
              </div>
          </div><!--type-->

          <div nz-form-item nz-row>
              <div nz-col [nzOffset]="7" [nzSpan]="12" nz-form-control>
                  <button nz-button [nzType]="'primary'" [nzSize]="'large'" [disabled]="!validateForm.valid">Save
                  </button>
                  <button nz-button [nzSize]="'large'" (click)="resetForm($event)"> Reset </button>
              </div>
          </div>
      </form>
  </ng-template>
</nz-card>
