<section>
    <nz-card class="card-height" nzTitle="Offer list" [nzExtra]="extra">
        <ng-template #extra>
            <button *ngIf="'offer-create'|accessControl" routerLink="/dashboard/offer/create" nz-button
                    [nzType]="'primary'" [nzSize]="'large'">
                <i class="anticon anticon-download"></i><span>Add New</span>
            </button>
        </ng-template>
        <ng-container>
            <nz-spin [nzSpinning]="_isSpinning">
                <nz-tabset>
                    <nz-tab nzTitle="Regular Offer">
                        <div>
                            <nz-table #nzTable
                                      nzShowQuickJumper
                                      nzShowSizeChanger
                                      [nzFrontPagination]="false"
                                      [nzData]="regularOfferData"
                                      [nzLoading]="loading"
                                      [nzTotal]="regularOfferTotal"
                                      [(nzPageIndex)]="homeOfferPage"
                                      [(nzPageSize)]="homeOfferLimit"
                                      (nzPageIndexChange)="getRegularOfferData()"
                            >
                                <thead>
                                <tr>
                                    <th>
                                        <span> ID </span>
                                    </th>
                                    <th>
                                        <span> Title </span>
                                    </th>
                                    <th>
                                        <span> Frontend Position </span>
                                    </th>
                                    <th>
                                        <span> Description </span>
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr *ngFor="let datum of nzTable.data;let i=index">
                                    <td>{{datum.id}}</td>
                                    <td>
                                        <nz-tag>{{datum.title}}</nz-tag>
                                    </td>
                                    <td>
                                        <nz-tag>{{datum.frontend_position}}</nz-tag>
                                    </td>
                                    <td [innerHTML]="datum.description"></td>
                                    <td>
                                        <nz-button-group>

                                            <button *ngIf="'offer-edit'|accessControl"
                                                    [routerLink]="['/dashboard/offer/edit', datum.id]" nz-button
                                                    [nzType]="'primary'" [nzSize]="'default'">
                                                <i class="anticon anticon-edit"></i>
                                            </button>
                                            <ng-container>
                                                <nz-popconfirm [nzTitle]="'Are you sure you want to delete?'"
                                                               [nzOkText]="'Delete'" [nzCancelText]="'Cancel'"
                                                               (nzOnConfirm)="deleteOffer(i,datum.id)">
                                                    <a nz-popconfirm>
                                                        <button nz-button [nzType]="'danger'" [nzSize]="'default'">
                                                            <i class="anticon anticon-delete "></i>
                                                        </button>

                                                    </a>
                                                </nz-popconfirm>
                                            </ng-container>
                                        </nz-button-group>
                                    </td>
                                </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </nz-tab>
                    <nz-tab nzTitle="Special Offer">
                        <div>
                            <nz-table #nzTable1
                                      nzShowQuickJumper
                                      nzShowSizeChanger
                                      [nzFrontPagination]="false"
                                      [nzData]="anonderjhorOfferData"
                                      [nzLoading]="loading"
                                      [nzTotal]="regularOfferTotal"
                                      [(nzPageIndex)]="homeOfferPage"
                                      [(nzPageSize)]="homeOfferLimit"
                                      (nzPageIndexChange)="getChildData()"
                            >
                                <thead>
                                <tr>
                                    <th>
                                        <span> ID </span>
                                    </th>
                                    <th>
                                        <span> Title </span>
                                    </th>
                                    <th>
                                        <span> Description </span>
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr *ngFor="let data1 of nzTable1.data;let i=index">
                                    <td>{{data1.id}}</td>
                                    <td>
                                        <nz-tag>{{data1.title}}</nz-tag>
                                    </td>
                                    <td [innerHTML]="data1.description"></td>
                                    <td>
                                        <nz-button-group>

                                            <button *ngIf="'offer-edit'|accessControl"
                                                    [routerLink]="['/dashboard/offer/edit', data1.id]" nz-button
                                                    [nzType]="'primary'" [nzSize]="'default'">
                                                <i class="anticon anticon-edit"></i>
                                            </button>
                                            <ng-container>
                                                <nz-popconfirm [nzTitle]="'Are you sure you want to delete?'"
                                                               [nzOkText]="'Delete'" [nzCancelText]="'Cancel'"
                                                               (nzOnConfirm)="deleteOffer(i,data1.id)">
                                                    <a nz-popconfirm>
                                                        <button nz-button [nzType]="'danger'" [nzSize]="'default'">
                                                            <i class="anticon anticon-delete "></i>
                                                        </button>

                                                    </a>
                                                </nz-popconfirm>
                                            </ng-container>
                                        </nz-button-group>
                                    </td>
                                </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </nz-tab>
                </nz-tabset>

            </nz-spin>
        </ng-container>
    </nz-card>
</section>
